# ğŸš€ ë³´í—˜ Q&A ì±—ë´‡ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

> ì™„ë²½íˆ ìë™í™”ëœ ë³´í—˜ ë°ì´í„° ì ì¬ ë° Streamlit ì±—ë´‡ ì‹¤í–‰

## âš¡ í•œ ì¤„ ì‹¤í–‰ (ì¶”ì²œ)

```bash
cd langchain_project
poetry run python run_chatbot.py
```

**ìë™ìœ¼ë¡œ ì§„í–‰ë¨:**
1. âœ… Qdrant ì„œë²„ ì‹œì‘ í™•ì¸
2. âœ… ë³´í—˜ XML íŒŒì¼ ì„ íƒ (01.ìœ ë¦¬ í´ë” â†’ data_selected)
3. âœ… Qdrantì— ë°ì´í„° ì ì¬
4. âœ… Streamlit ì•± ìë™ ì‹¤í–‰

---

## ğŸ“‹ ë‹¨ê³„ë³„ ì‹¤í–‰ (ìˆ˜ë™)

### Step 1: ë³´í—˜ íŒŒì¼ ì„ íƒ

```bash
cd langchain_project/source/ingest
poetry run python select_insurance_files.py
```

**ê²°ê³¼:**
- 01.ìœ ë¦¬ í´ë”ì—ì„œ **1,069ê°œ ë³´í—˜ XML** ì„ íƒ
- `data_selected/` í´ë”ì— ë³µì‚¬

### Step 2: Qdrant ë°ì´í„° ì ì¬

```bash
poetry run python ingest_all.py
```

**ê³¼ì •:**
1. data_selectedì˜ ëª¨ë“  XML íŒŒì¼ ë¡œë“œ
2. LangChain Documentë¡œ ë³€í™˜
3. í…ìŠ¤íŠ¸ ì²­í¬ ë¶„ë¦¬
4. Hugging Face ì„ë² ë”© ìƒì„±
5. Qdrantì— ë²¡í„° ì €ì¥

**ì˜ˆìƒ ì‹œê°„:** 5-10ë¶„

### Step 3: Streamlit ì•± ì‹¤í–‰

```bash
cd ../..
poetry run streamlit run source/app/app_streamlit.py
```

**ì ‘ì†:** http://localhost:8501

---

## ğŸ“Š íŒŒì¼ êµ¬ì¡°

```
source/
â”œâ”€â”€ ingest/
â”‚   â”œâ”€â”€ select_insurance_files.py  ğŸ“ 01.ìœ ë¦¬ì—ì„œ íŒŒì¼ ì„ íƒ
â”‚   â”œâ”€â”€ preprocessing.py            ğŸ“ XML â†’ Document ë³€í™˜
â”‚   â”œâ”€â”€ vertorstore_ingest.py       ğŸ“ Qdrant ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ ingest_all.py               ğŸ“ ë©”ì¸ ì ì¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ run_ingest.py               ğŸ“ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ app/
â”‚   â””â”€â”€ app_streamlit.py            ğŸ¤– ì±—ë´‡ UI
â”œâ”€â”€ llm/
â”‚   â””â”€â”€ llm.py                      âš™ï¸  Solar ëª¨ë¸
â””â”€â”€ vectorstore/
    â””â”€â”€ retriever.py                ğŸ” ë²¡í„° ê²€ìƒ‰
```

---

## ğŸ¯ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì „ í™•ì¸:

- [ ] Docker ì„¤ì¹˜ë¨
- [ ] Poetry ì„¤ì¹˜ë¨
- [ ] `.env` íŒŒì¼ì— `UPSTAGE_API_KEY` ì„¤ì •ë¨
- [ ] `01.ìœ ë¦¬` í´ë”ê°€ ì •í™•í•œ ê²½ë¡œì— ìˆìŒ

ê²½ë¡œ í™•ì¸:
```python
# source/ingest/select_insurance_files.pyì—ì„œ
RAW_DIR = Path(r"c:\Users\MiniH\Desktop\Langchain-Project\01.ìœ ë¦¬")
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### Qdrant ì—°ê²° ì•ˆ ë¨

```bash
# Docker í™•ì¸
docker ps | findstr qdrant

# ì—†ìœ¼ë©´ ì‹œì‘
docker run -d -p 6333:6333 -p 6334:6334 qdrant/qdrant
```

### ì ì¬ ì§„í–‰ ì•ˆ ë¨

1. `data_selected/` í´ë”ì— XMLì´ ìˆëŠ”ì§€ í™•ì¸
2. ì„ë² ë”© ëª¨ë¸ ë¡œë“œ (ì²« ì‹¤í–‰ ì‹œ ì‹œê°„ ê±¸ë¦¼)
3. í„°ë¯¸ë„ì—ì„œ ì§ì ‘ `poetry run python ingest_all.py` ì‹¤í–‰

### API í‚¤ ì˜¤ë¥˜

`.env` íŒŒì¼ì—ì„œ:
```
UPSTAGE_API_KEY=your_actual_key_here
```

---

## ğŸ“ˆ ê¸°ëŒ€ ê²°ê³¼

**ë°ì´í„° ì ì¬ ì™„ë£Œ ì‹œ:**
- ë³´í—˜ XML: **1,069ê°œ**
- ìƒì„± ë¬¸ì„œ: **~40,000-50,000ê°œ**
- Qdrant í¬ì¸íŠ¸: **40,000+**

**Qdrant Web UI í™•ì¸:**
```
http://localhost:6333/dashboard
```

---

## ğŸŒŸ íŒ

### ë¹ ë¥¸ í…ŒìŠ¤íŠ¸
- 5ê°œ íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸: `.files/` í´ë” ì‚¬ìš©
  ```bash
  cd langchain_project/source/ingest
  # preprocessing.py ìˆ˜ì • í•„ìš” ì—†ìŒ
  poetry run python ingest_insurance.py
  ```

### ìƒì‚° í™˜ê²½
- ëª¨ë“  1,069ê°œ íŒŒì¼ ì‚¬ìš© (ê¸°ë³¸ê°’)
- Qdrantë¥¼ ë³„ë„ ì„œë²„ì—ì„œ ì‹¤í–‰
- API í‚¤ í™˜ê²½ë³€ìˆ˜ ì„¤ï¿½ï¿½ï¿½

---

## ğŸ“ ë¡œê·¸ í™•ì¸

**ë°ì´í„° ì ì¬ ë¡œê·¸:**
```
[1/1069] ì²˜ë¦¬ ì¤‘: 001_ìƒí•´ë³´í—˜_ê°€ê³µ.xml
     âœ“ 456ê°œ ë¬¸ì„œ ì¶”ê°€ë¨
[2/1069] ì²˜ë¦¬ ì¤‘: 001_ì†í•´ë³´í—˜_ê°€ê³µ.xml
     âœ“ 623ê°œ ë¬¸ì„œ ì¶”ê°€ë¨
...
============================================================
âœ… ì´ 50,000+ê°œ documents Qdrantì— ì ì¬ ì™„ë£Œ!
============================================================
```

---

## ğŸ‰ ì™„ì„±!

ì´ì œ ì±—ë´‡ì´ 1,069ê°œì˜ ë³´í—˜ ì•½ê´€ ë°ì´í„°ë¡œ í•™ìŠµë˜ì—ˆìŠµë‹ˆë‹¤!

**ì§ˆë¬¸ ì˜ˆì‹œ:**
- "í™”ì¬ë³´í—˜ì˜ ë³´ì¥ ë²”ìœ„ëŠ”?"
- "ì¥í•´ ì§€ê¸‰ë¥  ê¸°ì¤€ì´ ë­”ê°€ìš”?"
- "ìí•´ ê´€ë ¨ ì•½ê´€ì€?"

ëª¨ë“  ì§ˆë¬¸ì— Qdrantì˜ ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ê´€ë ¨ ë¬¸ì„œë¥¼ ì°¾ì•„ ì •í™•í•œ ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤! ğŸš€
